<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>X-plore Web File Manager</title>
  <link rel="shortcut icon" href="img/icon.png" />
  <link href="css/tailwind.min.css" rel="stylesheet" type="text/css" />
  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <link href="css/main.less" rel="stylesheet/less" type="text/css" />
  <script src="js/less.js"></script>
</head>
<body id="body">

  <div class="web-container absolute inset-0 flex flex-col">

      <!-- header -->
      <div id="header" class="hidden px-4 h-20 flex items-center flex-shrink-0">
        <a href="http://www.lonelycatgames.com/apps/xplore" target="_blank">
          <img id="icon" src="img/icon.png" class="w-10 h-10">
        </a>
        <div class="px-3 flex-grow">
          <p class="font-bold">X-plore Web File Manager</p>
          <p id="device-name" class="text-gray-600 text-xs">--</p>
        </div>
        <a href="javascript:;" id="audio-btn" class="hidden">
          <img src="img/music.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="https://github.com/Chisw/x-plore-web" target="_blank">
          <img src="img/github.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="https://www.lonelycatgames.com/docs/xplore/wifi-share/in-web" target="_blank">
          <img src="img/help.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="javascript:opReloadPage();">
          <img src="img/refresh.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="javascript:opExit();">
          <img src="img/logout.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
      </div>

      <!-- main-pane -->
      <div id="main-pane" class="hidden flex border-t overflow-hidden flex-grow">
        <div class="relative h-full border-r">
          <div id="up" class="drag_scroll" onDrag="dragTreeScroll"></div>
          <div id="tree_list" class="tree_list"></div>
          <div id="down" class="drag_scroll" onDrag="dragTreeScroll"></div>
        </div>
        <div class="flex-grow h-full overflow-y-auto">
          <div id="grid-list">
            <div id="toolbar" class="w-full border-b bg-gray-200 flex">

              <input type="button" class="but border-r" id="dirUp" _title="1" disabled img="img/back.svg"></input>
              <input type="button" class="but border-r border-l ml-2" id="new-folder" _title="7" disabled img="img/new-folder.svg"></input>
              <input type="button" class="but border-r" id="rename" _title="3" onclick="opRename()" img="img/edit.svg" onDrag="renameDrag"></input>
              <input type="button" class="but border-r" id="upload" _title="27" img="img/upload.svg"></input>
              <input type="button" class="but border-r" id="get-zip" _title="30" img="img/download-zip.svg" onclick="opDownloadAsZip()" onDrag="zipDrag"></input>
              <input type="button" class="but border-r" id="delete" _title="2" disabled img="img/delete.svg" onDrag="deleteDrag"></input>
              <input type="button" class="but border-r border-l ml-2" id="marker" _title="11" img="img/checkmark.svg"></input>
              <input type="button" class="but border-r" id="showHidden" _title="4" onclick="opShowHidden()" img="img/view.svg"></input>
              <input type="button" class="but border-r" _title="5" onclick="opDirRefresh()" img="img/refresh.svg"></input>
              <input type="file" class="hidden" id="real-upload" multiple onchange="opUploadPick(event)">

              <div id="files_info" class="flex p-2">
                <div id="counters" class="flex items-center">
                  <img src="img/folder.svg">
                  <span id="num_dirs">0</span>
                  <img src="img/file.svg">
                  <span id="num_files">0</span>
                  <span id="num_hidden"></span>
                </div>
                <div id="num_marked" class="flex items-center ml-1">
                  <img src="img/checkmark.svg">
                  <div id="text"></div>
                </div>
              </div>
            </div>
            <div id="grid_scroll">
              <div id="grid-in" class="grid-list"></div>
              <div id="read_only" class="hidden" _text="28"></div>
            </div>
          </div>
      
          <div id="media_viewer" class="worktable">
            <div id="canvas"></div>
            <div id="toolbar">
              <div id="info">
                <div id="counter"></div>
                <div id="name"></div>
                <div id="media_info">1600x1200</div>
              </div>
              <div id="controls">
                <button class="but" id="prev" _title="36" img="img/previous.png"></button>
                <button class="but" id="next" _title="37" img="img/next.png"></button>
                <button class="but" id="slideshow" _title="39" img="img/slideshow_on.png"></button>
                <button class="but" id="rename" _title="3" img="img/edit.svg"></button>
                <button class="but" id="download" _title="31" img="img/download.svg"></button>
                <button class="but" id="delete" _title="2" img="img/delete.svg"></button>
              </div>
              <div id="onRight">
                <button class="but" id="options" _title="40" img="img/op_settings.png"></button>
                <button class="but" id="fullscreen" _title="35" img="img/imgv_fullscreen.png"></button>
                <button class="but" id="close" _title="34" img="ic_close"></button>
              </div>
            </div>
          </div>
      
          <div id="text_view" class="worktable">
            <div id="canvas">
              <textarea id="text"></textarea>
            </div>
            <div id="toolbar">
              <div id="info">
                <!-- <div id="counter"></div> -->
                <div id="name"></div>
                <div id="media_info">!</div>
              </div>
              <div id="controls">
                <button class="but" id="save" _title="47" img="img/save.png"></button>
                <button class="but" id="start_edit" _title="48" img="img/op_text_edit.png"></button>
                <button class="but" id="wrap" _title="51" img="img/wrap_text_off.png"></button>
                <!--
                  <button class="but" id="rename" _title="3" img='img/edit.svg'></button>
                  <button class="but" id="download" _title="31" img='img/op_download.svg'></button>
                  <button class="but" id="delete" _title="2" img='img/delete.svg'></button>
                  -->
                <span id="edit_info" _text="48"></span>
              </div>
              <div id="onRight">
                <!-- <button class="but" id="options" _title="40" img='img/op_settings.png'></button> -->
                <button class="but" id="close" _title="34" img='ic_close'></button>
              </div>
            </div>
          </div>
        </div>
      </div>

  </div>

  <div id="cover" class="cover"></div>
 
  <!-- templates -->
  <div id="templates" class="hidden">

      <div id="le_volume" class="le">
        <div class="le_in" onDrag="leDrag">
          <p id="exp" expanded="false"></p>
          <p id="icon"></p>
          <span id="title">Vol</span>
          <span id="dir_size"></span>
          <span id="file_size">Free: 4MB/12GB</span>
        </div>
      </div>

      <div id="le_volume_dir" class="le">
        <div class="le_in" onDrag="leDrag">
          <p id="exp" expanded="false"></p>
          <p id="icon"></p>
          <span id="title">Dir</span>
          <span id="dir_size"></span>
          <div id="mark"></div>
        </div>
      </div>
      
      <div id="le_dir" class="le">
        <div class="le_in" onDrag="leDrag">
          <p id="exp" expanded="false"></p>
          <p id="icon"></p>
          <span id="title">Dir</span>
          <span id="dir_size"></span>
          <div id="mark"></div>
        </div>
      </div>
    
      <div id="progress-circle">
        <img src="img/refresh.svg">
      </div>
    
    <div id="le_file" class="le">
      <div class="le_in">
        <p id="icon"></p>
        <span id="title">File</span>
        <span id="file_size">123KB</span>
        <span id="time">2014-03-14 23:53</span>
        <div id="mark"></div>
      </div>
    </div>
    
    <div id="le_media" class="le">
      <div class="le_in">
        <p id="icon"></p>
        <span id="title">Image</span>
        <span id="file_size">123KB</span>
        <span id="time">2014-03-14 23:53</span>
        <div id="mark"></div>
      </div>
    </div>
    
    <div class="but"><div class="icon"></div></div>
    
    <table id="popup" cellspacing="0">
      <tr id="trt"><td id="lt"><td id="t"><td id="rt">
      <tr><td id="l"><td id="c">
      <div id="title"></div>
      <div id="items">
        <div id="item"><img src='img/help.svg' ><span id="text">Help</span></div>
      </div>
      
      <td id="r">
      <tr id="trb"><td id="lb"><td id="b"><td id="rb">
    </table>
  </div>

  <div id="drag-toast" class ="hidden">Copy</div>

  <div id="dlgEnterName" class="dlg hidden">
    <div id="title" class="select-none">
      <div id="icon"></div>
      <div id="text"></div>
    </div>
    <form id="in">
      <div id="msg"></div>
      <input id="text" type="text" autocomplete="off" spellcheck="false">
    
      <div id="buttons">
        <input type="submit" _value='0' value="OK"> 
        <button type="button" onclick="unCover()" _text='16'>Cancel</button>
      </div>
    </form>
  </div>

  <div id="dlgOkCancel" class="dlg hidden">
    <div id="title" class="select-none">
      <div id="icon"></div>
      <div id="text"></div>
    </div>
    <div id="in">
      <div id="msg">msg</div>

      <div id="buttons">
        <button id="ok" _text='0'></button> 
        <button id="cancel" _text='16'></button>
      </div>
    </div>
  </div>

  <div id="dlgCancelable" class="dlg hidden">
    <div id="title" class="select-none">
      <div id="icon"></div>
      <div id="text"></div>
    </div>
    <div id="in">
      <div id="msg">msg</div>

      <div id="buttons">
        <button onclick="unCover()" _text='16'>Cancel</button>
      </div>
    </div>
  </div>

  <div id="dlgAudioPlay" class="dlg hidden">
    <div id="title" class="select-none">
      <img id="icon" src="img/music.svg">
      <button class="but" id="bgnd" _title="46" img='but_move_up'></button>
      <div id="text" _text="43"></div>
    </div>
    <div id="in">
      <div id="counter"></div>
      <div id="name"></div>
      <audio controls></audio>

      <div id="toolbar">
        <button class="but" id="prev" _title="36" img='img/previous.png'></button>
        <button class="but" id="next" _title="37" img='img/next.png'></button>
        <div id="onRight">
          <button class="but checkbox" id="repeat" _title="44" img='img/repeat.png'></button>
          <button class="but checkbox" id="shuffle" _title="45" img='img/shuffle.png'></button>
          <button class="but" id="close" _title="34"></button>
        </div>
      </div>
    </div>
  </div>

  <table id="bottom-bar">
    <tr>
      <td id="info_line">
        <div id="in" >
          <div id="icon"></div>
          <div id="msg"></div>
        </div>
      </td>
      <td id="uploads" class="hidden">
        <div id="queue">
          <div id="title" _text="25"></div>
          <div id="in"></div>
          <div id="cancel_all"><div class="but_bgnd" _text="26">Cancel all</div></div>
          <div id="remain_time">-1:23</div>
        </div>
        <div id='progress'>
          <div id="bar"><div id="pos"></div></div>
          <div id="percent">0%</div>
          <div id="stat">12KB/s</div>
        </div>
        <div id="counter">1/2</div>
        <div class="file">
          <button class="but" id="cancel" _title='16'></button>
          <div id="size">123KB</div>
          <div id="name">Name</div>
        </div>
      </td>
    </tr>
  </table>

</body>
<script src="js/jquery-3.5.1.js"></script>
<script src="js/main.js"></script>
<script>
  $(document).ready(onReady)
</script>
</html>
