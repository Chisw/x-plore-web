<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>X-plore Web File Manager</title>
  <link rel="shortcut icon" href="img/icon.png" />
  <link href="css/tailwind.min.css" rel="stylesheet" type="text/css" />
  <link href="css/style.css" rel="stylesheet" type="text/css" />
</head>
<body id="body">

  <!-- web-container -->
  <div class="web-container absolute inset-0 flex flex-col">

      <!-- header -->
      <div prevent-dnd class="px-4 h-20 flex items-center flex-shrink-0">
        <a href="http://www.lonelycatgames.com/apps/xplore" target="_blank">
          <img id="icon" src="img/icon.png" class="w-10 h-10">
        </a>
        <div class="px-3 flex-grow">
          <p class="font-bold">X-plore Web File Manager</p>
          <p id="device-name" class="text-gray-600 text-xs">--</p>
        </div>
        <a href="javascript:;" id="audio-btn" class="hidden">
          <img src="img/music.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="https://github.com/Chisw/x-plore-web" target="_blank">
          <img src="img/github.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="https://www.lonelycatgames.com/docs/xplore/wifi-share/in-web" target="_blank">
          <img src="img/help.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="javascript:opReloadPage();">
          <img src="img/refresh.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
        <a href="javascript:opExit();">
          <img src="img/logout.svg" class="ml-1 p-2 w-10 h-10 rounded hover:bg-gray-200">
        </a>
      </div><!-- header -->

      <!-- main-pane -->
      <div prevent-dnd id="main-pane" class="flex border-t overflow-hidden flex-grow">
        <!-- pane tree-list -->
        <div class="relative h-full border-r">
          <div
            id="up"
            class="drag-scroll absolute left-0 top-0 w-full h-12 -mt-12"
            onDrag="dragTreeScroll"
          >
          </div>
          <div id="tree-list" class="tree-list w-80 h-full overflow-y-auto"></div>
          <div
            id="down"
            class="drag-scroll absolute left-0 bottom-0 w-full h-12 -mb-12"
            onDrag="dragTreeScroll"
          >
          </div>
        </div><!-- pane tree-list -->

        <!-- pane grid-list -->
        <div class="flex-grow h-full">
          <div id="grid-list" class="h-full flex flex-col">

            <div id="toolbar" class="w-full border-b bg-gray-200 flex">

              <input type="button" class="but relative w-10 h-10 border-r" id="dirUp" _title="1" disabled img="img/back.svg"></input>
              <input type="button" class="but relative w-10 h-10 border-r border-l ml-2" id="new-folder" _title="7" disabled img="img/new-folder.svg"></input>
              <input type="button" class="but relative w-10 h-10 border-r" id="rename" _title="3" onclick="opRename()" img="img/edit.svg" onDrag="renameDrag"></input>
              <input type="button" class="but relative w-10 h-10 border-r" id="upload" _title="27" img="img/upload.svg"></input>
              <input type="button" class="but relative w-10 h-10 border-r" id="get-zip" _title="30" img="img/download-zip.svg" onclick="opDownloadAsZip()" onDrag="zipDrag"></input>
              <input type="button" class="but relative w-10 h-10 border-r" id="delete" _title="2" disabled img="img/delete.svg" onDrag="deleteDrag"></input>
              <input type="button" class="but relative w-10 h-10 border-r border-l ml-2" id="marker" _title="11" img="img/checkmark.svg"></input>
              <input type="button" class="but relative w-10 h-10 border-r" id="showHidden" _title="4" onclick="opShowHidden()" img="img/view.svg"></input>
              <input type="button" class="but relative w-10 h-10 border-r" _title="5" onclick="opDirRefresh()" img="img/refresh.svg"></input>
              <input type="file" class="hidden" id="real-upload" multiple onchange="opUploadPick(event)">

              <div id="files-info" class="flex p-1">
                <div id="counters" class="flex items-center">
                  <img src="img/folder.svg">
                  <span id="num-dirs">0</span>
                  <img src="img/file.svg">
                  <span id="num-files">0</span>
                  <span id="num-hidden"></span>
                </div>
                <div id="num-marked" class="flex items-center ml-1">
                  <img src="img/checkmark.svg">
                  <div id="text"></div>
                </div>
              </div>

              <div id="read-only" class="hidden" _text="28"></div>

            </div>

            <div id="grid-scroll" class="relative flex-grow p-2 overflow-x-hidden overflow-y-auto">
              <div id="grid-in" class="grid-list"></div>
            </div>

          </div>
      
          <div id="media-viewer" class="hidden absolute z-10 inset-0">
            <div id="canvas" class="bg-black absolute left-0 right-0 bottom-0" style="top: 45px;"></div>
            <div id="toolbar" class="absolute left-0 right-0 top-0 p-2 bg-gray-900 border">
              <div id="info">
                <div id="counter"></div>
                <div id="name"></div>
                <div id="media-info">1600x1200</div>
              </div>
              <div id="controls">
                <button class="but relative w-10 h-10" id="prev" _title="36" img="img/previous.png"></button>
                <button class="but relative w-10 h-10" id="next" _title="37" img="img/next.png"></button>
                <button class="but relative w-10 h-10" id="slideshow" _title="39" img="img/slideshow_on.png"></button>
                <button class="but relative w-10 h-10" id="rename" _title="3" img="img/edit.svg"></button>
                <button class="but relative w-10 h-10" id="download" _title="31" img="img/download.svg"></button>
                <button class="but relative w-10 h-10" id="delete" _title="2" img="img/delete.svg"></button>
              </div>
              <div>
                <button class="but relative w-10 h-10" id="options" _title="40" img="img/op_settings.png"></button>
                <button class="but relative w-10 h-10" id="fullscreen" _title="35" img="img/imgv_fullscreen.png"></button>
                <button class="but relative w-10 h-10" id="close" _title="34" img="ic_close"></button>
              </div>
            </div>
          </div>
      
          <div id="text-view" class="hidden absolute z-10 inset-0">
            <div id="canvas" class="absolute left-0 right-0 bottom-0" style="top: 45px;">
              <textarea id="text"></textarea>
            </div>
            <div id="toolbar" class="absolute left-0 right-0 top-0 p-2 bg-gray-900 border">
              <div id="info">
                <!-- <div id="counter"></div> -->
                <div id="name"></div>
                <div id="media-info">!</div>
              </div>
              <div id="controls">
                <button class="but relative w-10 h-10" id="save" _title="47" img="img/save.png"></button>
                <button class="but relative w-10 h-10" id="start-edit" _title="48" img="img/op_text_edit.png"></button>
                <button class="but relative w-10 h-10" id="wrap" _title="51" img="img/wrap_text_off.png"></button>
                <!--
                  <button class="but relative w-10 h-10" id="rename" _title="3" img="img/edit.svg"></button>
                  <button class="but relative w-10 h-10" id="download" _title="31" img="img/op_download.svg"></button>
                  <button class="but relative w-10 h-10" id="delete" _title="2" img="img/delete.svg"></button>
                  -->
                <span id="edit-info" _text="48"></span>
              </div>
              <div>
                <!-- <button class="but relative w-10 h-10" id="options" _title="40" img="img/op_settings.png"></button> -->
                <button class="but relative w-10 h-10" id="close" _title="34" img="ic_close"></button>
              </div>
            </div>
          </div>
        </div><!-- pane grid-list -->

      </div><!-- main-pane -->

  </div><!-- web-container -->


  <!-- templates -->
  <div id="templates" class="hidden">

    <div id="le-volume" class="le relative cursor-pointer select-none">
      <div class="le-inner relative h-8" onDrag="leDrag">
        <div
          id="exp"
          class="hover:bg-gray-200 bg-no-repeat bg-center w-8 h-8"
          expanded="false"
        >
        </div>
        <div id="icon"></div>
        <div id="title">Vol</div>
        <div id="dir-size"></div>
        <div id="file-size">Free: 4MB/12GB</div>
      </div>
    </div>

    <div id="le-dir" class="le relative cursor-pointer select-none">
      <div class="le-inner relative h-8" onDrag="leDrag">
        <div
          id="exp"
          class="hover:bg-gray-200 bg-no-repeat bg-center w-8 h-8"
          expanded="false"
        >
        </div>
        <div id="icon" class="bg-contain"></div>
        <div id="title">Dir</div>
        <div id="dir-size"></div>
        <div id="mark" class="absolute top-0 right-0 p-1 w-6 h-6 bg-contain opacity-50 hover:opacity-100"></div>
      </div>
    </div>
   
    <div id="le-file" class="le relative cursor-pointer select-none">
      <div class="le-inner relative h-8">
        <div id="icon"></div>
        <div id="title">File</div>
        <div id="file-size">123KB</div>
        <div id="time">2014-03-14 23:53</div>
        <div id="mark" class="absolute top-0 right-0 p-1 w-6 h-6 bg-contain opacity-50 hover:opacity-100"></div>
      </div>
    </div>
    
    <div id="le-media" class="le relative cursor-pointer select-none">
      <div class="le-inner relative h-8">
        <div id="icon"></div>
        <div id="title">Image</div>
        <div id="file-size">123KB</div>
        <div id="time">2014-03-14 23:53</div>
        <div id="mark" class="absolute top-0 right-0 p-1 w-6 h-6 bg-contain opacity-50 hover:opacity-100"></div>
      </div>
    </div>

    <div id="progress-circle" class="loading absolute top-0 right-0 w-4 h-4">
      <img src="img/refresh.svg" class="animate-spin">
    </div>
    
    <div class="but relative w-10 h-10">
      <div class="icon w-3/5 h-3/5 absolute inset-0 m-auto bg-cover"></div>
    </div>
    
    <table id="popup" cellspacing="0" class="fixed z-10">
      <tr id="trt"><td id="lt"><td id="t"><td id="rt">
      <tr><td id="l"><td id="c">
      <div id="title"></div>
      <div id="items">
        <div id="item"><img src="img/help.svg" ><span id="text">Help</span></div>
      </div>
      
      <td id="r">
      <tr id="trb"><td id="lb"><td id="b"><td id="rb">
    </table>

  </div><!-- templates -->

   <!-- overlays -->
  <div prevent-dnd id="cover" class="hidden fixed inset-0 z-10 bg-black opacity-50"></div>
  <div id="drag-toast" class ="hidden fixed z-10 p-1 bg-white text-black border">Copy</div>

  <div id="dlgEnterName" class="hidden fixed bg-white z-10">
    <div id="title" class="select-none p-2">
      <div id="icon" class="mr-2 w-8 h-8 bg-cover"></div>
      <div id="text"></div>
    </div>
    <form id="in" class="p-2">
      <div id="msg" class="m-2"></div>
      <input id="text" type="text" autocomplete="off" spellcheck="false">
    
      <div id="buttons">
        <input type="submit" _value="0" value="OK"> 
        <button type="button" onclick="unCover()" _text="16">Cancel</button>
      </div>
    </form>
  </div>

  <div id="dlgOkCancel" class="hidden fixed bg-white z-10">
    <div id="title" class="select-none p-2">
      <div id="icon" class="mr-2 w-8 h-8 bg-cover"></div>
      <div id="text"></div>
    </div>
    <div id="in" class="p-2">
      <div id="msg" class="m-2">msg</div>

      <div id="buttons">
        <button id="ok" _text="0"></button> 
        <button id="cancel" _text="16"></button>
      </div>
    </div>
  </div>

  <div id="dlgCancelable" class="hidden fixed bg-white z-10">
    <div id="title" class="select-none p-2">
      <div id="icon" class="mr-2 w-8 h-8 bg-cover"></div>
      <div id="text"></div>
    </div>
    <div id="in" class="p-2">
      <div id="msg" class="m-2">msg</div>
      <div id="buttons">
        <button onclick="unCover()" _text="16">Cancel</button>
      </div>
    </div>
  </div>

  <div id="dlgAudioPlay" class="hidden fixed bg-white z-10">
    <div id="title" class="select-none p-2">
      <img id="icon" class="mr-2 w-8 h-8 bg-cover" src="img/music.svg">
      <button class="but relative w-10 h-10" id="bgnd" _title="46" img="but_move_up"></button>
      <div id="text" _text="43"></div>
    </div>
    <div id="in" class="p-2">
      <div id="counter"></div>
      <div id="name"></div>
      <audio controls></audio>

      <div id="toolbar">
        <button class="but relative w-10 h-10" id="prev" _title="36" img="img/previous.png"></button>
        <button class="but relative w-10 h-10" id="next" _title="37" img="img/next.png"></button>
        <div>
          <button class="but relative w-10 h-10 checkbox" id="repeat" _title="44" img="img/repeat.png"></button>
          <button class="but relative w-10 h-10 checkbox" id="shuffle" _title="45" img="img/shuffle.png"></button>
          <button class="but relative w-10 h-10" id="close" _title="34"></button>
        </div>
      </div>
    </div>
  </div>

  <!-- bottom-bar -->
  <table id="bottom-bar" class="fixed left-0 right-0 bottom-0 z-10">
    <tr>
      <td id="info-line">
        <div id="in" class="max-h-48 overflow-y-auto">
          <div id="icon" class="w-8 h-8 bg-contain"></div>
          <div id="msg" class="m-2"></div>
        </div>
      </td>
      <td id="uploads" class="hidden w-1/2 border">
        <div id="queue">
          <div id="title" _text="25"></div>
          <div id="in"></div>
          <div id="cancel-all" class="w-32">
            <div class="relative w-10 h-10" _text="26">Cancel all</div>
          </div>
          <div id="remain-time" class="absolute bottom-0 right-0">-1:23</div>
        </div>
        <div id="progress" class="relative w-32 h-8">
          <div id="bar" class="absolute inset-0 h-2">
            <div id="pos" class="w-3/5 h-full bg-green-500"></div>
          </div>
          <div id="percent">0%</div>
          <div id="stat">12KB/s</div>
        </div>
        <div id="counter">1/2</div>
        <div class="file h-8">
          <button class="but relative w-10 h-10" id="cancel" _title="16"></button>
          <div id="size">123KB</div>
          <div id="name">Name</div>
        </div>
      </td>
    </tr>
  </table><!-- bottom-bar -->

</body>
<script src="js/jquery-3.5.1.js"></script>
<script src="js/main.js"></script>
<script>
  $(document).ready(onReady)
</script>
</html>
